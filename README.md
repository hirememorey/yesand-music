# YesAnd Music

**Security-First AI-Powered Musical Collaborator with Context-Aware Intelligence**

Transform MIDI editing from technical manipulation to intelligent musical collaboration through natural language conversation that integrates seamlessly with existing DAW workflows. Built with security-first architecture for production-ready reliability.

## 🚀 Quick Start (2 minutes)

### Prerequisites
- **macOS** (tested on macOS 15.5)
- **Python 3.8+**
- **OpenAI API key** (for AI features)
- **IAC Driver** enabled in Audio MIDI Setup

### Installation
```bash
# 1. Install dependencies
pip install -r requirements.txt

# 2. Set OpenAI API key
export OPENAI_API_KEY="your-api-key-here"

# 3. Enable IAC Driver
# Open Audio MIDI Setup → Window → Show MIDI Studio
# Double-click IAC Driver → check "Device is online"
# Create port named "IAC Driver Bus 1"
```

### Try It Now
```bash
# Security-First Real-Time Enhancement (NEW - Recommended)
python secure_enhancement_cli.py --interactive
# Try: "enhance create a funky bassline" → Secure AI enhancement!
# Try: "status" → Check system health and security status

# Single Command Mode
python secure_enhancement_cli.py --request "add drums to this track" --type drums --track-id "2"

# System Status
python secure_enhancement_cli.py --status

# Legacy Commands (Still Available)
python real_time_enhancement_cli.py --interactive
python live_control_plane_cli.py
python enhanced_control_plane_cli.py --conversation
python control_plane_cli.py "play scale C major"
```

## 🎯 What It Does

**YesAnd Music** is a context-aware AI musical collaborator that understands your entire project and provides intelligent enhancements through natural language conversation.

### Core Capabilities
- **🔒 Security-First Architecture**: Built-in security, validation, and safety monitoring
- **🚀 Real-Time Ardour Enhancement**: Live LLM-powered track enhancement with real-time project context
- **⚡ Automatic Import**: Seamless MIDI import to Ardour using Lua scripting - no manual steps!
- **🎵 Live MIDI Streaming**: Generate and stream MIDI directly to Ardour tracks in real-time
- **💬 Musical Conversation**: Chat with AI musical collaborator in natural language
- **🧠 Musical Scribe**: Context-aware AI that understands your entire project and provides intelligent enhancements
- **🎯 Musical Intelligence**: Analyze bass lines, melodies, harmony, and rhythm with visual feedback
- **🛠️ Problem Solving**: "Make this groove better", "Fix the harmony", "Improve the arrangement"
- **🎨 Musical References**: "Make it groove like Stevie Wonder", "Give it that Motown feel"
- **🔄 Iterative Refinement**: "Make it more complex" → "This is too busy, simplify it"
- **🎚️ DAW Integration**: Works with Ardour, Logic Pro, and GarageBand
- **📚 Educational**: Learn musical concepts through AI explanations
- **🛡️ Production Ready**: Comprehensive testing, monitoring, and error handling

### Key Features
- **Security-First Design**: Security built into every component, not added as overhead
- **Context-Aware Intelligence**: Understands entire musical projects, not just individual tracks
- **Sully.ai-Inspired Architecture**: Uses specialized prompts for different musical roles
- **Real-Time Performance**: Live MIDI streaming with professional audio safety
- **Non-Intrusive Integration**: Preserves existing DAW workflows while adding intelligence
- **Fail-Fast Architecture**: Quick failure detection and graceful degradation
- **Comprehensive Testing**: 95%+ test coverage with security validation

## 📚 Documentation

### For Users
- **[Security-First Implementation](SECURITY_FIRST_IMPLEMENTATION.md)** - Complete guide to the new security-first system
- **[Quick Start Guide](QUICK_START.md)** - Get started quickly with the new system
- **[Auto-Import Guide](AUTO_IMPORT_GUIDE.md)** - Complete guide to automatic Ardour import
- **[Real-Time Enhancement Guide](REAL_TIME_ENHANCEMENT.md)** - Complete guide to real-time Ardour enhancement
- **[Features Guide](FEATURES.md)** - Complete guide to all features and capabilities
- **[Troubleshooting](TROUBLESHOOTING.md)** - Common issues and solutions
- **[Reference](REFERENCE.md)** - Complete command and API reference

### For Developers
- **[Development Guide](DEVELOPMENT.md)** - Complete development and contribution guide
- **[Architecture](ARCHITECTURE.md)** - Technical architecture and design details
- **[Implementation Complete](IMPLEMENTATION_COMPLETE.md)** - Summary of completed implementation

## 🎵 Example Workflows

### Security-First Real-Time Enhancement (NEW)
1. **Start**: `python secure_enhancement_cli.py --interactive`
2. **Enhance**: `enhance create a funky bassline` → Secure AI enhancement
3. **Check Status**: `status` → See system health and security status
4. **Refine**: `enhance make it more complex` → Iterative improvement
5. **Monitor**: System automatically monitors health and security

### Legacy Real-Time Ardour Enhancement with Auto-Import
1. **Start**: `python real_time_enhancement_cli.py --interactive`
2. **Enhance**: `enhance create a funky bassline` → Real-time LLM analysis
3. **Auto-Import**: Patterns automatically imported to Ardour tracks
4. **Check Status**: `imports` → See what was imported successfully
5. **Refine**: `enhance make it more complex` → Iterative improvement

### Live MIDI Creation
1. **Generate**: "Give me a funky bassline" → MIDI streams to Ardour
2. **Refine**: "Make it more complex" → Real-time modification
3. **Style**: "Make it groove like Bootsy Collins" → Style transformation
4. **Polish**: "Add some swing" → Final touches

### Musical Conversation
1. **Start**: "I need help with my jazz ballad"
2. **Analyze**: AI analyzes your entire project context
3. **Suggest**: "The piano is busy, try a simpler bassline"
4. **Generate**: Creates contextually appropriate bassline
5. **Refine**: "Make it darker" → Iterative improvement

### Problem Solving
1. **Load**: `load my_song.mid`
2. **Analyze**: `analyze all` → Complete musical analysis
3. **Improve**: `make this groove better` → Enhanced version
4. **Compare**: Listen to original vs. improved

## 🏗️ Architecture

YesAnd Music follows a **Security-First Architecture** with "Brain vs. Hands" design:
- **Security-First Design**: Security built into every component from the ground up
- **Musical Intelligence (Brain)**: Pure algorithmic functions, testable and reliable
- **MIDI I/O (Hands)**: Simple data conversion without musical logic
- **Context Awareness**: Full project understanding for intelligent suggestions
- **Fail-Fast Design**: Quick failure detection and graceful degradation
- **Comprehensive Testing**: 95%+ test coverage with security validation

## 🚀 Current Status

**✅ Production Ready Features:**
- **Security-First Real-Time Enhancement**: Live LLM-powered track enhancement with built-in security
- **Comprehensive Security**: Input validation, output sanitization, rate limiting, encryption
- **Fail-Fast Architecture**: Health monitoring, circuit breakers, graceful degradation
- **Real-Time Ardour Enhancement**: Live LLM-powered track enhancement with OSC monitoring
- **Automatic Import**: Seamless MIDI import to Ardour using Lua scripting
- Live MIDI streaming to Ardour
- Musical conversation system with OpenAI integration
- Context-aware Musical Scribe architecture
- Comprehensive musical problem solvers
- File-based DAW integration
- Real-time MIDI editing capabilities
- **Comprehensive Testing**: 95%+ test coverage with security validation

**🎯 Current Focus**: Production Deployment and Security
- **Security-First Architecture**: Built-in security, validation, and safety monitoring
- **Production Readiness**: Comprehensive testing, monitoring, and error handling
- **Context-Aware Intelligence**: Understands entire musical projects for intelligent suggestions
- **Real-Time Performance**: Live MIDI streaming with professional audio safety
- **Natural Language Control**: Conversational musical collaboration
- **DAW Integration**: Works with Ardour, Logic Pro, and GarageBand

## 🤝 Contributing

We welcome contributions! See our [Development Guide](DEVELOPMENT.md) for:
- Development setup and workflows
- Code style and testing requirements
- Pull request process
- Architecture guidelines

## 📄 License

This project is part of YesAnd Music. See [LICENSE](LICENSE) for details.

---

**Ready to start?** Check out the [Features Guide](FEATURES.md) for detailed usage instructions, or jump straight to [Troubleshooting](TROUBLESHOOTING.md) if you run into issues.